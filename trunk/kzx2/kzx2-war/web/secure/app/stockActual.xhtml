<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:rich="http://richfaces.org/rich">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Stock Actual</title>
    </h:head> 

    <ui:composition template="./../../resources/template/facesTemplate.xhtml">

        <ui:define name="content">
            <h:body>
                <h:form id="frm">
                    <div>
                        <fieldset>
                            <h3>Stock Actual</h3>

                            <!--                            <h4>Seleccione un rago de fechas para obtener las cuotas vencidas. También puede dejar en blanco la fecha desde y usar sólo la fecha hasta.</h4>-->
                            <!--                            <div class="tablaForm">
                                                            <div class="fila">
                                                                <div class="etiq"><label for="fechaDesde">Fecha Desde: </label></div>
                                                                <div class="cont">
                                                                    <h:selectBooleanCheckbox id="fechaDesdeAhora" title="Ahora" value="#{vencimientoCuotas.usarFechaDesdeAhora}" label="Ahora">
                                                                        <f:ajax render="fechaDesde"/>
                                                                    </h:selectBooleanCheckbox>Ahora<br/>
                                                                    <rich:calendar value="#{vencimientoCuotas.fechaDesde}" id="fechaDesde"
                                                                                   locale="en/US" popup="true"
                                                                                   datePattern="dd/MM/yyyy"
                                                                                   showApplyButton="true"
                                                                                   disabled="#{vencimientoCuotas.usarFechaDesdeAhora}">
                                                                        <rich:validator/>
                                                                    </rich:calendar>
                                                                    <rich:messages for="fechaDesde"/>
                                                                </div>
                                                            </div>
                                                            <div class="fila">
                                                                <div class="etiq"><label for="fechaHasta">Fecha Hasta: </label></div>
                                                                <div class="cont">
                                                                    <h:selectBooleanCheckbox id="fechaHastaAhora" title="Ahora" value="#{vencimientoCuotas.usarFechaHastaAhora}" label="Ahora">
                                                                        <f:ajax render="fechaHasta"/>
                                                                    </h:selectBooleanCheckbox>Ahora<br/>
                                                                    <rich:calendar value="#{vencimientoCuotas.fechaHasta}" id="fechaHasta"
                                                                                   locale="en/US" popup="true"
                                                                                   datePattern="dd/MM/yyyy"
                                                                                   showApplyButton="true"
                                                                                   disabled="#{vencimientoCuotas.usarFechaHastaAhora}">
                                                                        <rich:validator/>
                                                                    </rich:calendar>
                                                                    <rich:messages for="fechaHasta"/>
                                                                </div>
                                                            </div>
                                                        </div>-->
                            <div class="botonera">
                                <h:commandButton action="#{stockActualBean.verStockActual()}" value="Actualizar"/>
                            </div>
                            <div class="centrado" style="width: 90%;">
                                <h:panelGroup rendered="#{not empty stockActualBean.lista}">
                                    <table class="tablaDatos">
                                        <thead>
                                            <tr>
                                                <th width="2%">Nº</th>
                                                <th width="10%">Código</th>
                                                <th width="8%">Marca</th>
                                                <th width="15%">Modelo</th>
                                                <th width="10%">Color</th>
                                                <th>Chasis</th>
                                                <th width="10%">Motor</th>
                                                <th width="20%">Estado</th>
                                                <th width="20%">Ubicación</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <ui:repeat value="#{stockActualBean.lista}" var="row">
                                                <tr>
                                                    <td>
                                                        <h:outputText value="#{row.id}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.moto.codigo}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.moto.marca}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.moto.modelo}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.moto.color}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.chasis}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.motor}"/>
                                                    </td>
                                                    <td class="estado#{row.estado.id}">
                                                        <h:outputText value="#{row.estado.descripcion}"/>
                                                    </td>
                                                    <td>
                                                        <h:outputText value="#{row.ubicacion.descripcion}"/>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </tbody>
                                    </table>
                                    <div class="resumen">
                                        <table>
                                            <thead><h3>Generar Documentos</h3></thead>
                                            <tr>
                                                <td>
                                                    <h:commandLink target="_blank" action="#{stockActualBean.imprimirStock()}">
                                                        <h:graphicImage url="./../../resources/images/acrobat.gif"/>
                                                        <h:outputText value=" Stock Actual Completo"/>
                                                    </h:commandLink>
                                                </td>
                                                <td>
                                                    <h:commandLink target="_blank" action="#{stockActualBean.imprimirStockPorUbicacion()}">
                                                        <h:graphicImage url="./../../resources/images/acrobat.gif"/>
                                                        <h:outputText value=" Stock Por Ubicación"/>
                                                    </h:commandLink>
                                                </td>
                                                <td>
                                                    <h:commandLink target="_blank" action="#{stockActualBean.imprimirStockPorModelo()}">
                                                        <h:graphicImage url="./../../resources/images/acrobat.gif"/>
                                                        <h:outputText value=" Stock Por Modelo"/>
                                                    </h:commandLink>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </h:panelGroup> 
                                <h:panelGroup rendered="#{empty stockActualBean.lista}">
                                    No se encontraron registros
                                </h:panelGroup>
                            </div>
                        </fieldset>
                    </div>
                </h:form>
            </h:body>
        </ui:define>
    </ui:composition>
</html>